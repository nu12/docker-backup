<button type="button" class="btn btn-sm btn-secondary" disabled>Backup selected</button>
<button type="button" class="btn btn-sm btn-secondary" disabled>Backup all</button>

<table class="table table-striped">
  <thead>
    <tr>
      <th>Name</th>
      <th>Mountpoint</th>
      <th>CreatedAt</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>

<% volumes.each do |volume| %>
<tr>
    <td><%= volume["Name"].size > 24 ? "#{volume["Name"][0,21]}..." : volume["Name"]  %></td>
    <td><%= volume["Mountpoint"].size > 42 ? "#{volume["Mountpoint"][0,39]}..." : volume["Mountpoint"] %></td>
    <td><%= volume["CreatedAt"] %></td>
    <td class="icon-<%= volume['Name'] %>"></td>
    <td>
      <% unless volume["Name"] == "docker-backup" %>
        <%= link_to 'Create backup', "#", {class:"btn btn-success btn-sm", 'data-bs-toggle'=>"modal", 'data-bs-target'=>"#modal-#{volume['Name']}"} %>
        <%= link_to "/volume/#{volume["Name"]}", method: :delete, data: { confirm: 'Are you sure?' }, class:"btn btn-danger btn-sm", title: "Delete volume", "data-bs-toggle" => "tooltip", "data-bs-placement"=>"top" do %>
          <i class="fas fa-trash-alt"></i>
        <% end %>
      <% end %>
    </td>
</tr>
<% end %>
</tbody>
</table>

<% volumes.each do |volume| %>

<!-- Modal -->
<div class="modal fade" id="modal-<%= volume['Name'] %>" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Create new backup file</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <%= form_with(url: "/backup/create", method: "post") do |form| %>

          <div class="form-group">
              <%= form.label :name, "Volume name" %>
              <%= form.text_field :name, value: volume['Name'], readonly: "readonly", class: "form-control"  %>
          </div>

          <div class="form-group">
              <%= form.label :file, "Backup file name" %>
              <%= form.text_field :file, value: volume['Name'], class: "form-control" %>
          </div>

          <div class="mt-3 actions">
              <%= form.submit "Create", class: "btn btn-success form-control" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
<% end %>